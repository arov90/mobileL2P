@using L2PAPIClient.DataModel;
@using Grp.L2PSite.MobileApp.Services;
@{
    ViewData["Title"] = "Learning Materials";
    L2PCourseInfoData course = ViewData["ChosenCourse"] as L2PCourseInfoData;
    L2PRole userRole = ViewData["userRole"] as L2PRole;
    List<L2PLearningMaterialElement> learningMaterial = ViewData["CourseLearningMaterials"] as List<L2PLearningMaterialElement>;
}

@*<div class="mdl-cell mdl-cell--12-col">
        <h4>@ViewData["Title"]</h4>
        <hr />
    </div>*@

<div class="container">
    <div class="row" style="margin-bottom: 0px !important">
        <div class="col s12 center-align">
            <div class="chip"><i class="material-icons">link</i><b>Learning Materials</b> | @course.courseTitle </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12">
            <table class="bordered highlight">
                <thead>
                    <tr>
                        <th data-field="name">Name</th>
                        <th data-field="notes">Lecture Date</th>
                        <th data-field="oLink">Modified</th>
                        <th data-field="notes">File Size</th>
                    </tr>
                </thead>
                <tbody>
                    @if (learningMaterial != null)
                    {
                        var learnMat = (from lm in learningMaterial
                                        where lm.isDirectory == false
                                        orderby lm.created descending
                                        select lm);
                        foreach (L2PLearningMaterialElement lm in learningMaterial)
                        {
                               <tr>
                                   <td>@Html.Raw(lm.name)</td>
                                   <td>@Tools.toDateTime(lm.created)</td>
                                   <td>@Tools.toDateTime(lm.lastModified)</td>
                                   @*<td>@Tools.GetPropertyValue(lm.fileInformation, "fileSize")</td>*@
                               </tr>
                         }
                      }
                </tbody>
            </table>
        </div>
    </div>
</div>